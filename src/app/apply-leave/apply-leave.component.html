<ns-header title="Apply Leave"></ns-header>
<StackLayout class="page page-content mainlayout-css">
    <GridLayout rows="*, auto">
        <!-- <GridLayout row="0" rows="*">
            <ActivityIndicator color="green" [busy]="isactive" horizontalAlignment="center" verticalAlignment="center"></ActivityIndicator>
        </GridLayout> -->
        <GridLayout class="main-layout-border">
            <StackLayout class="bgcolor-white"> 
            <ScrollView row="0" rows="*">
                <GridLayout row="0" rows="auto,auto,auto,auto,auto,auto,auto,auto,auto" class="text-field-inside-css">
                    <!-- Start Date -->
                    <StackLayout row="0" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="Start Date"></Span>
                                <Span text="*" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                        <GridLayout class="text-field-border">
                            <TextField hint="Start Date" row="1" [(ngModel)]="model.startdate" (tap)="pickStartDate()"
                                (textChange)="ondatechange()" editable="false" class="text-field-inside-css label-css"></TextField>
                        </GridLayout>
                    </StackLayout>
                    <!--Start Date Session -->
                    <StackLayout row="1" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="Session"></Span>
                                <Span text="*" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                        <GridLayout class="text-field-border">
                            <GridLayout columns="auto, *" (tap)="opensession1DD($event)" class="bgcolor-white">
                                <DropDown id="session1dd" [class]="dropdownCss" [items]="sessions" [(ngModel)]="model.session1"
                                    [selectedIndex]="session1index" (selectedIndexChanged)="sessionOneIndexChanged($event)"
                                    row="0" col="0">
                                </DropDown>
                            </GridLayout>
                        </GridLayout>
                    </StackLayout>
                    <!-- End Date -->
                    <StackLayout row="2" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="End Date"></Span>
                                <Span text="*" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                        <GridLayout class="text-field-border">
                            <TextField hint="End Date" row="1" [(ngModel)]="model.enddate" (tap)="pickEndDate()"
                                editable="false" (textChange)="ondatechange()" class="text-field-inside-css label-css"></TextField>
                        </GridLayout>
                    </StackLayout>
                    <!-- End Date Session -->
                    <StackLayout row="3" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="Session"></Span>
                                <Span text="*" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                        <GridLayout class="text-field-border">
                            <GridLayout columns="auto, *" (tap)="opensession2DD($event)" class="bgcolor-white">
                                <DropDown id="session2dd" [class]="dropdownCss" [items]="sessions" [(ngModel)]="model.session2"
                                    [selectedIndex]="session2index" (selectedIndexChanged)="sessionTwoIndexChanged($event)"
                                    row="0" col="0">
                                </DropDown>
                            </GridLayout>
                        </GridLayout>
                    </StackLayout>
                    <!-- Leave type -->
                    <StackLayout row="4" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="Leave Type"></Span>
                                <Span text="*" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                        <GridLayout class="text-field-border">
                            <GridLayout columns="auto, *" (tap)="openleavetypeDD($event)" class="bgcolor-white">
                                <DropDown id="leavetypedd" [class]="dropdownCss" [items]="leavetypes" [(ngModel)]="model.leavetype"
                                    [selectedIndex]="leavetypeindex" (selectedIndexChanged)="leaveTypeIndexChanged($event)"
                                    row="0" col="0">
                                </DropDown>
                            </GridLayout>
                        </GridLayout>
                    </StackLayout>
                    <!-- Number of Leave Days -->
                    <StackLayout row="5" aria-rowspan="2" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="No of Leave Days:&nbsp;"></Span>
                                <Span text="{{model.leaveDays}}" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                    </StackLayout>
                    <!-- Available Leaves -->
                    <StackLayout row="6" aria-rowspan="2" class="main-layout-orientation">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="Available Leaves:&nbsp;"></Span>
                                <Span text="{{availableleaves}}" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                    </StackLayout>
                    <!-- Leave Reason -->
                    <StackLayout row="7" class="main-layout-orientation" (tap)="dismissSoftKeybaord">
                        <Label class="lbl">
                            <FormattedString>
                                <Span text="Leave Reason"></Span>
                                <Span text="*" class="red-color"></Span>
                            </FormattedString>
                        </Label>
                        <GridLayout class="text-field-border">
                            <StackLayout>
                                <TextView #leavereason class="input text-field-inside-css"
                                    style.placeholderColor="lightgray" hint="Leave Reason" [(ngModel)]="model.leavereason"
                                    autocorrect="false" autocapitalizationType="none" keyboardType="email"></TextView>
                            </StackLayout>
                        </GridLayout>
                    </StackLayout>
                    <!-- Apply button -->
                    <StackLayout row="8" aria-rowspan="2" class="main-layout-orientation">
                        <GridLayout row="1" rows="auto">
                            <Button row="0" text="Apply" class="btn btn-primary btn-active button" (tap)="onapplytap()">
                            </Button>
                        </GridLayout>
                    </StackLayout>
                </GridLayout>
            </ScrollView>
        </StackLayout>
        </GridLayout>
        <ActivityIndicator [busy]="busyindicator" color="#0080ff" aria-rowspan="3" horizontalAlignment="center"
        verticalAlignment="center"></ActivityIndicator>
    </GridLayout>
</StackLayout>